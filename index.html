<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>demo</title>
        <link rel="stylesheet" href="dist/css/dataSelector.css">
        <style>
            .row{
                padding: 20px;
            }

            .row a{
                display: inline-block;
                margin-top: 10px;
                padding: 7px 13px;
                border: 1px solid #ccc;
                border-radius: 2px;
                color: #333;
                text-decoration: none;
                background-color: #fff;
                font-size: 12px;
            }

            .row a:hover{
                background-color: #fafafa;
            }

            .intro{
                margin-bottom: 20px;
            }
        </style>
    </head>
    <body>
        <div class="row">
            <p class="intro">默认仅含有template字段的初始化，可输入任意省份、省会或省的简称</p>
            <input type="text" data-id="data-selector">
            <a href="javascript:;" id="getValue" title="getValue">getValue</a>
            <a href="javascript:;" id="setValue" title="setValue">setValue</a>
            <a href="javascript:;" id="appendValue" title="appendValue">appendValue</a>
            <a href="javascript:;" id="clear" title="clear">clear</a>
            <a href="javascript:;" id="destroy" title="destroy">destroy</a>
            <a href="javascript:;" id="reset" title="reset">reset</a>
        </div>
        <div class="row">
            <p class="intro">最多选择三个数据；初始化时没有传入带筛选的数据，点setData按钮可设置。（可通过该方法实现异步加载数据）</p>
            <input type="text" id="demo2">
            <a href="javascript:;" id="setData" title="setData">setData</a>
        </div>
        <script src="dist/js/dataSelector.js"></script>
        <script type="text/javascript">
            var demo1 = new dataSelector({
                template: '<span>%:province%</span> - <span>[[%:capital%]]</span> - <span>%:alias%</span>'
            });

            document.querySelector('#getValue').addEventListener('click', function(){
                alert(demo1.getValue());
            }, false);

            document.querySelector('#setValue').addEventListener('click', function(){
                demo1.setValue([
                    {
						province: '北京市',
						capital: '北京',
						alias: '京'
					},
					{
						province: '天津市',
						capital: '天津',
						alias: '津'
					},
					{
						province: '上海市',
						capital: '上海',
						alias: '沪'
					}
                ]);
            }, false);

            document.querySelector('#appendValue').addEventListener('click', function(){
                demo1.appendValue([
                    {
						province: '北京市',
						capital: '北京',
						alias: '京'
					},
                    {
						province: '河北省',
						capital: '石家庄',
						alias: '冀'
					},
					{
						province: '河南省',
						capital: '郑州',
						alias: '豫'
					},
					{
						province: '上海市',
						capital: '上海',
						alias: '沪'
					}
                ]);
            }, false);

            document.querySelector('#clear').addEventListener('click', function(){
                demo1.clear();
            });

            document.querySelector('#destroy').addEventListener('click', function(){
                demo1.destroy();
            });

            document.querySelector('#reset').addEventListener('click', function(){
                demo1.reset();
            });

            var demo2 = new dataSelector({
                el: '#demo2',
                template: '[[%:name%]] - %:age% - <span style="font-style: italic;">%:gender%</span>',
                maxData: 3,
                maxResult: 3
            });

            document.querySelector('#setData').addEventListener('click', function() {
                demo2.setData([
                    {
                        name: 'Henry',
                        age: 25,
                        gender: 'male'
                    },
                    {
                        name: 'Chris',
                        age: 24,
                        gender: 'female'
                    },
                    {
                        name: 'Candy',
                        age: 20,
                        gender: 'female'
                    },
                    {
                        name: 'Alex',
                        age: 30,
                        gender: 'male'
                    },
                    {
                        name: 'Tom',
                        age: 50,
                        gender: 'male'
                    },
                    {
                        name: 'Bob',
                        age: 27,
                        gender: 'male'
                    },
                    {
                        name: 'Fiona',
                        age: 18,
                        gender: 'female'
                    }
                ]);
            });
        </script>
    </body>
</html>
